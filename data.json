Skip to content
Search or jump toâ€¦

Pull requests
Issues
Marketplace
Explore
 
@amrap030 
authorizon
/
opal-example-policy-repo
2
15
Code
Issues
Pull requests
Actions
Projects
Wiki
Security
Insights
opal-example-policy-repo/data.json
@asafc
asafc changed example policy to be RBAC with location check
Latest commit 98bbe70 on 12 Apr
 History
 1 contributor
80 lines (80 sloc)  1.68 KB
  
{
    "users": {
        "alice": {
            "roles": [
                "admin"
            ],
            "location": {
                "country": "US",
                "ip": "8.8.8.8"
            }
        },
        "bob": {
            "roles": [
                "employee",
                "billing"
            ],
            "location": {
                "country": "US",
                "ip": "8.8.8.8"
            }
        },
        "eve": {
            "roles": [
                "customer"
            ],
            "location": {
                "country": "US",
                "ip": "8.8.8.8"
            }
        }
    },
    "role_permissions": {
        "customer": [
            {
                "action": "read",
                "type": "dog"
            },
            {
                "action": "read",
                "type": "cat"
            },
            {
                "action": "adopt",
                "type": "dog"
            },
            {
                "action": "adopt",
                "type": "cat"
            }
        ],
        "employee": [
            {
                "action": "read",
                "type": "dog"
            },
            {
                "action": "read",
                "type": "cat"
            },
            {
                "action": "update",
                "type": "dog"
            },
            {
                "action": "update",
                "type": "cat"
            }
        ],
        "billing": [
            {
                "action": "read",
                "type": "finance"
            },
            {
                "action": "update",
                "type": "finance"
            }
        ]
    }
}